"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41594],{89654:function(e,r,n){n.d(r,{B:function(){return l}});var t=n(70865),i=n(52322),o=n(62197),a=n(25709),s=n(87414),c=n(22921),u=(0,n(8740).ZL)()(function(e,r){var n=e.palette,i=e.tokens,o=i.fontSize,a=i.fontWeight,s=i.spacing,c=r.showDesignUpliftP32215;return{pricing:(0,t.Z)({display:"flex",flexWrap:"wrap",alignItems:"baseline",justifyContent:"center",gap:"0 5px"},c&&{paddingBottom:s.m,gap:"0 2px"}),priceValue:(0,t.Z)({},c&&{fontSize:"60px"}),pricingDetails:{fontSize:c?o.m:o.xl,fontWeight:a.normal},pricingDetailsAnnotation:{flexBasis:"100%",fontSize:o.s,fontWeight:a.normal,display:"block",color:n.action.active,whiteSpace:"pre-wrap"}}}),l=function(e){var r=e.productPrice,n=e.pricingDetails,t=e.pricingDetailsAnnotation,l=e.showP32290Inr,d=e.product,p=u({showDesignUpliftP32215:(0,a.u)().showDesignUpliftP32215}).classes,v=(0,c.o)(),f=r;if(l){var y=d||{},C=y.prices,g=void 0===C?{}:C,m=y.pricesPerSeat,h=y.seatCount,w=(0,s.Yy)({prices:g,localeCurrency:"INR"}),I=g[null==w?void 0:w.toLowerCase()],P=(void 0===m?{}:m)[null==w?void 0:w.toLowerCase()],N=I;P&&h&&(N=I+P*h),f=v({price:N,localeCurrencyOverride:w})}return(0,i.jsxs)(o.Z,{className:p.pricing,variant:"h4",align:"center",children:[(0,i.jsx)("span",{className:p.priceValue,children:f}),n&&(0,i.jsx)("span",{className:p.pricingDetails,children:" ".concat(n)}),t&&(0,i.jsx)("span",{className:p.pricingDetailsAnnotation,children:" ".concat(t)})]})}},86799:function(e,r,n){n.d(r,{hs:function(){return h},sZ:function(){return g}});var t,i=n(52322),o=n(80907),a=n(60538),s=n(70865),c=n(89654),u=function(e){var r=e.initialProps;return(0,i.jsx)(c.B,(0,s.Z)({},r))},l=n(47842),d=n(88849),p=n(2784),v=n(96670),f=n(87414),y=n(22921),C=(t={},(0,l.Z)(t,d.NM,function(e){var r=e.experiment,n=e.initialProps;return(0,p.useEffect)(function(){r.recordImpression()},[]),(0,i.jsx)(u,{initialProps:n})}),(0,l.Z)(t,d.vG,function(e){var r=e.experiment,n=e.initialProps;(0,p.useEffect)(function(){r.recordImpression()},[]);var t=n.product||{},o=t.prices,a=void 0===o?{}:o,c=t.pricesPerSeat,l=t.seatCount,d=(0,f.Yy)({prices:a,localeCurrency:"BRL"}),C=a[null==d?void 0:d.toLowerCase()],g=(void 0===c?{}:c)[null==d?void 0:d.toLowerCase()],m=C;g&&l&&(m=C+g*l);var h=(0,v.Z)((0,s.Z)({},n),{productPrice:(0,y.P)(m,d)});return(0,i.jsx)(u,{initialProps:h})}),t),g={flagID:a.T,id:a.s,name:"P3-2160 BRL currency",treatments:C},m=function(){return(0,i.jsx)(i.Fragment,{})},h=function(e){return(0,i.jsx)(o.C,{config:g,initialProps:e,Portal:u,SkeletonLoader:m})}},25709:function(e,r,n){n.d(r,{B:function(){return i},u:function(){return o}});var t=n(2784),i=(0,t.createContext)({showDesignUpliftP32215:!1}),o=function(){return(0,t.useContext)(i)}},16077:function(e,r,n){n.d(r,{y:function(){return t}});var t="Flat fee cancellation"},88692:function(e,r,n){n.d(r,{n:function(){return t}});var t="Flat fee cancellation v2"},41594:function(e,r,n){n.d(r,{Q:function(){return W}});var t=n(98788),i=n(47842),o=n(70865),a=n(96670),s=n(87394),c=n(45680),u=n(27739),l=n(44699),d=n(60591),p=n(43801),v=n(65532),f=n(3093),y=n(75445),C=n(23490),g=n(87414),m=function(e){var r=e.prices,n=void 0===r?{}:r,t=(0,f.O)(),i=(0,C.N)().isGoodBot,o=(0,v.PE)().currencyData.currency,a=void 0===o?y.a:o;return i?(0,g.Yy)({prices:n,localeCurrency:a}):t?(0,g.Yy)({prices:n,localeCurrency:"INR"}):(0,g.Yy)({prices:n,localeCurrency:a})},h=n(96863),w=n(88849),I=n(86799),P=function(e){var r=e.prices,n=void 0===r?{}:r,t=(0,h.s)(I.sZ).experiment,i=(0,C.N)().isGoodBot,o=(0,v.PE)(),a=o.region,s=o.currencyData.currency,c=void 0===s?y.a:s;return i||t.isInactiveForUser||t.isLoading?(0,g.Yy)({prices:n,localeCurrency:c}):t.variant.treatmentID===w.vG&&"BR"===a?(0,g.Yy)({prices:n,localeCurrency:"BRL"}):(0,g.Yy)({prices:n,localeCurrency:c})},N=n(16077),D=n(88692),Z=n(66970),b=n(12708),x=function(e){var r=e.couponCode,n=e.productName,t=null;return n===u.Pvj&&r===u.XdV?t=u.E65:n===u.fnR&&r===u.Q9B&&(t=u.Em3),t},R=n(44297),E=n(38419),S=n(18167),O=n(38367),L=n(59979),j=n(70008),k=n(40233),B=n(12649),_=n(25936),F=n(24114),U=n(38204),T=n(31683),z=n(34406).env.NODE_CONFIG_ENV,A=function(){var e=(0,T.u4)()?"production":"qa";switch(z||e){case"dev":return"65021";case"qa":return"12424";case"production":return"14156";default:return"NO_ENV_DEFINED"}},M=function(){var e=(0,T.u4)()?"production":"qa";switch(z||e){case"dev":return"65035";case"qa":return"19606";case"production":return"17383";default:return"NO_ENV_DEFINED"}},V=n(21805),Y=n(5632),q=n(2784),G=function(e){var r,n=e.couponCode,t=e.displayInlineCancellationFlow,a=(0,Y.useRouter)(),s=(0,p.v)(),c=!!(null==s?void 0:null===(r=s.current)||void 0===r?void 0:r.isPeacock);return(0,q.useCallback)(function(e){var r,s=e.orderId,u=(0,E.DW)({language:a.locale,relativePath:(0,U.U2)({queryParams:(0,o.Z)({orderId:s},(null==a?void 0:a.query)||{},c&&{isCreativeAiOrder:"true"},n?(r={},(0,i.Z)(r,d.d9,n),(0,i.Z)(r,d.Gp,n),r):{},t&&{display:"inlineCancellationFlow"})})});a.push(u)},[n,c,a,t])},W=function(e){var r=e.products,n=e.asset,i=e.assetSize,p=e.couponCode,y=e.productId,C=e.productType,h=void 0===C?d.Cs:C,w=e.productOverride,I=e.seatCount,E=e.setCreateOrderStatus,U=void 0===E?function(){}:E,T=e.setIsInvalidCoupon,z=void 0===T?function(){}:T,W=e.vatNumber,Q=e.license,H=e.isLicenseDrawer,X=void 0!==H&&H,$=e.preset,J=void 0===$?void 0:$,K=e.eligibilityData,ee=void 0===K?{}:K,er=e.existingUserRedirectPath,en=e.selectedShadowsOption,et=e.shouldForceAsset,ei=e.subscriptionIdentifier,eo=e.cancellationReason,ea=(0,v.PE)().region,es=(0,j.B)().isIndiaRegion,ec=(0,B.jy)().data,eu=(0,_.u)().data,el=(0,B.B)(),ed=(0,s.Z)((0,q.useState)(!1),2),ep=ed[0],ev=ed[1],ef=(0,s.Z)((0,F.QD)(n)||[],2)[1],ey=ee.eligibilityCurrency,eC=ee.debitableIdentifier,eg=(0,q.useMemo)(function(){return null!=w?w:(0,o.Z)({},(0,g.$A)(r,y),I?{seatCount:I}:{})},[w,y,r,I]),em=null==eg?void 0:eg.id,eh=(0,Y.useRouter)().asPath,ew=m({prices:null==eg?void 0:eg.prices}),eI=P({prices:null==eg?void 0:eg.prices}),eP=(0,f.O)(),eN=es?ew:eI,eD=(0,O.Z)({shouldFetch:!!el}).data,eZ=p||eg.couponCode,eb=x({couponCode:eZ,productName:null==eg?void 0:eg.name}),ex=(0,L.Sl)({queryParams:(0,o.Z)({landing_page:(0,S.t)({couponCode:eZ,productId:em,vatNumber:W,seatCount:null==eg?void 0:eg.seatCount,doNotRedirect:!0,asset:es||void 0!==et&&et?n:void 0,existingUserRedirect:er||ef,license:Q})},J&&{preset:J}),signUpView:eb}),eR=(0,q.useCallback)(function(){if(window){var e,r;V.Z.set("referer_page",eh),null===(e=window.NREUM)||void 0===e||null===(r=e.addPageAction)||void 0===r||r.call(e,"UP3-1623 assign loggedOutHandler authRedirectPath to href",(0,a.Z)((0,o.Z)({},window.location||{}),{asPath:eh,authRedirectPath:ex})),window.location.href=ex}},[eh,ex]),eE=(0,b.F3)({paymentProfiles:eD}),eS=(0,q.useCallback)(function(e){var r,n,t={createTime:null==ec?void 0:ec.createTime,component:"useCreateOrder.js",errorCode:e.code,errorStatus:e.status,errorDetail:e.detail,errorMessage:e.message,errorStack:e.stack||"useCreateOrder",errorTitle:e.title,impersonatorId:eu.impersonatorId,msg:"UP1-2650 Order creation failed",organizationId:null==ec?void 0:ec.organizationId,referrerPath:window.location.pathname,referrerQuery:window.location.search,userId:null==ec?void 0:ec.id,username:null==ec?void 0:ec.username,isLicenseDrawer:X};null===(r=window.NREUM)||void 0===r||null===(n=r.noticeError)||void 0===n||n.call(r,e,t)},[eu,ec,X]),eO=G({couponCode:eZ,displayInlineCancellationFlow:[N.y,D.n].includes(eo)}),eL=(0,k.d)(),ej=(0,s.Z)((0,q.useState)({status:"",error:void 0}),2),ek=ej[0],eB=ej[1],e_=(0,q.useCallback)((0,t.Z)(function(){var e,r,t,s,p;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(c.trys.push([0,3,,4]),U({status:"",error:void 0}),eB({status:"",error:void 0}),ev(!0),es&&u.Tj5.includes(eZ))throw Error("free trial offer not available in India");if(!eD)return[3,2];return e=n?{assets:[{asset:n,selectedAssetSize:(0,Z.DW)({assetType:(0,R.Tp)(n),assetSize:i})}]}:{},r=[],eo===N.y||eo===D.n?r.push({product:{id:eo===D.n?M():A(),type:"products"},cancellationReason:eo,subscriptionIdentifier:ei}):(r.push((0,a.Z)((0,o.Z)({},e),{product:eg,productType:h})),null!=eo&&null!=ei&&r.push({product:{id:A(),type:"products"},cancellationReason:eo,subscriptionIdentifier:ei})),[4,(0,b.LV)({country:ea,currency:ey||eN,paymentProfileId:null==eE?void 0:eE.paymentId,orderItems:r,selectedShadowsOption:en,vatNumber:W,couponCode:eZ,license:Q,debitableIdentifier:eC,showP32290Inr:eP})];case 1:t=c.sent().data,U({status:l.MR,error:void 0}),eB({status:l.MR,error:void 0}),ev(!1),eO({orderId:t.id}),eL({actionName:"convert - order creation success",customAttributes:{productName:eg.name,productType:h,country:ea,currency:ey||eN,assetType:(0,R.Tp)(n),assetSize:i,license:Q,isLicenseDrawer:X}}),c.label=2;case 2:return[3,4];case 3:return s=c.sent(),U({status:l.cM,error:s}),eB({status:l.cM,error:s}),ev(!1),(null==s?void 0:null===(p=s.detail)||void 0===p?void 0:p.toLowerCase())===d.LQ&&z(!0),eS(s),[3,4];case 4:return[2]}})}),[U,es,eZ,eD,n,i,ea,ey,eN,null==eE?void 0:eE.paymentId,eg,h,W,Q,eC,eO,eL,X,eS,z,en,ei,eo,eP]);return{createOrderHandler:el?e_:eR,isCreateOrderInProgress:ep,product:eg,orderStatus:ek}}}}]);
//# sourceMappingURL=41594-8f59c6dc3c2c701a.js.map