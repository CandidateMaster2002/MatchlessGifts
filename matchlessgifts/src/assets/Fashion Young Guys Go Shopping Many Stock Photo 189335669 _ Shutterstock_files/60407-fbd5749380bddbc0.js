"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60407],{60407:function(e,i,n){n.d(i,{J:function(){return et}});var t=n(47842),s=n(70865),o=n(96670),r=n(26297),a=n(87394),d=n(52322),l=n(68043),u=n(87042),c=n(2784),v=function(e){var i,n=e.assetIndex,t=void 0===n?0:n,s=e.gridRef,o=null==s?void 0:null===(i=s.current)||void 0===i?void 0:i.getElementsByClassName("grid-item");if(o)for(var r=t;r<(null==o?void 0:o.length);r+=1){var a=o[r],d=o[r+1];if((null==a?void 0:a.offsetTop)!==(null==d?void 0:d.offsetTop))return r}return t},w=function(e){var i=e.gridItems,n=void 0===i?[]:i,t=e.gridRef,s=(0,a.Z)((0,c.useState)(),2),o=s[0],r=s[1],d=(0,a.Z)((0,c.useState)(),2),l=d[0],w=d[1],f=(0,a.Z)((0,c.useState)(0),2),p=f[0],x=f[1],h=(0,a.Z)((0,c.useState)(!1),2),m=h[0],g=h[1];(0,c.useEffect)(function(){g(!1)},[n]);var R=(0,c.useCallback)(function(e){var i=e.assetIndex,s=void 0===i?0:i,o=(n[s]||{}).asset;s===p?g(!m):g(!0),w(o),x(s),r(v({assetIndex:s,gridRef:t}))},[n,t,p,m]);return(0,c.useEffect)(function(){var e;return m&&(e=function(){var e;clearTimeout(e),g(!1),e=setTimeout(function(){r(v({assetIndex:p,gridRef:t})),g(!0)},250)},window.addEventListener("resize",e)),function(){return window.removeEventListener("resize",e)}},[t,p,m]),(0,c.useEffect)(function(){var e;return m&&(e=function(e){e.code===u.hY&&g(!1)},document.addEventListener("keydown",e)),function(){return document.removeEventListener("keydown",e)}},[m]),{expandableSimilarPreviewInGridHandler:R,similarPreviewAsset:l,similarPreviewAssetIndex:p,similarPreviewIndex:o,setShowExpandableSimilarPreviewInGrid:g,showExpandableSimilarPreviewInGrid:m}},f=n(34354),p=n(80530),x=n(75298),h=function(e){var i=e.analyticsEventLabel,n=e.assets,t=e.listId,s=e.isGridReady,o=e.position,r=(0,a.Z)((0,x.I)({triggerOnce:!0}),2),l=r[0],u=r[1],v=(0,p.l)();return(0,c.useEffect)(function(){s&&t&&l&&v({assets:n,listId:t,position:o,eventLabel:i})},[v,s,n,l,o,t,i]),(0,d.jsx)("div",{ref:u})},m=n(55256),g=n(81205),R=n(83303),I=n(30446),E=n.n(I),b=n(50930),S=n(37546),C=n(84853),k=function(e){var i=e.targetRowHeight,n=e.rowIndex,t=e.maxRows;return{width:0,height:i,index:n,assets:[],isLastRow:!!t&&n===t}},G=function(e){var i=e.targetRowHeight,n=e.maxRows;return function(e){return k({targetRowHeight:i,rowIndex:e.rowIndex,maxRows:n})}},Z=function(e){for(var i=e.targetRowHeight,n=e.assets,t=e.gridWidth,o=e.maxRows,r=e.hasExpansionRows,a=G({targetRowHeight:i,maxRows:o}),d=a({rowIndex:1}),l=[],u=n.length-1,c=0;c<n.length;c+=1){var v=n[c],w=(0,S.id)({asset:v}),f=(0,R.fL)({height:i,aspect:w}),p=Math.min(f,t),x=t-d.width;if(d.width>0&&x<p*Math.min(1,i/p)){var h=d.index+(r?2:1);if(l.push((0,s.Z)({},d)),o&&h>o)break;d=a({rowIndex:h})}d.assets.push(v),d.width+=f,d.aspect=(0,R.o1)(d),c===u&&(d.isLastRow=!0,l.push((0,s.Z)({},d)))}if(r)for(var m=1;m<l.length+1;m+=2)l=(0,C.$T)(l,m,{isExpansionRow:!0,index:m+1,width:t});return l},y=function(e){var i=e.isLastRow,n=e.width,t=e.finalRowWidth;return!i||n>=.6*t},P=function(e){var i=e.rows,n=e.gridWidth,t=e.spacing;return i.reduce(function(e,i,s){var o=i.isLastRow,r=i.width,a=i.height,d=i.aspect,l=i.assets,u=i.isExpansionRow;if(u)return(0,b.Z)(e).concat([{isExpansionRow:u,width:r}]);var c=n-2*t*l.length,v=y({isLastRow:o,finalRowWidth:c,width:r})?(0,R.UP)({width:c,aspect:d}):a,w=l.map(function(e,i){var n=(0,S.id)({asset:e});return{aspect:n,asset:e,columnIndex:i,rowHeight:v,rowIndex:s,width:(0,R.fL)({height:v,aspect:n})}});return(0,b.Z)(e).concat((0,b.Z)(w))},[])},W=function(e){var i=e.assets,n=e.gridWidth,t=e.maxRows,s=e.spacing,o=e.targetRowHeight,r=e.hasExpansionRows;return(null==i?void 0:i.length)?P({rows:Z({targetRowHeight:o,assets:i,gridWidth:n,maxRows:t,hasExpansionRows:r}),gridWidth:n,spacing:s}):null},A=n(29938),M=function(e){var i=e.assets,n=e.maxRows,t=e.isMobile,o=e.hasMaxWidth,d=e.hasMobileScroll,u=e.spacing,v=e.gridSizingOptions,w=e.hasExpansionRows,f=e.useCssGrid,p=(0,c.useRef)(null),x=(0,a.Z)((0,c.useState)(null),2),h=x[0],m=x[1],g=(0,A.K)({containerEl:p,defaultHeight:l.R$,defaultRenderWidth:l.zU,gridSizingOptions:v,hasMaxWidth:o,spacing:u,useCssGrid:f}),I=g.rowHeight,b=g.rowWidth,S=t&&d?b*l.kl:b,C=(0,c.useMemo)(function(){return W({assets:i,gridWidth:S,maxRows:n,spacing:u,hasExpansionRows:w,targetRowHeight:I})},[i,S,n,u,I,w]),k=(0,c.useCallback)(function(){m(null)},[]),G=(0,c.useCallback)(function(e){var i=e.rowIndex,n=e.asset,t=(0,r.Z)(e,["rowIndex","asset"]);if((0,R.XQ)({asset:n,activeExpansionRow:h}))k();else{var o=E()(C,function(e){return e.rowIndex===i});m((0,s.Z)({rowIndex:o+1,asset:n},t))}},[h,C,k]);return{gridItems:C,containerEl:p,targetRowHeight:I,gridWidth:S,activateExpansionRow:G,activeExpansionRow:h,closeExpansionRow:k}},L=n(43463),O=n(15883),V=n(41519),T=n(33301),D=n(23490),j=n(41687),_=n(88849),H=function(e){var i=e.gridElement,n=e.requiredRow,t=null==i?void 0:i.querySelectorAll('div[role="img"]');if(t)for(var s=0,o=0;o<(null==t?void 0:t.length);o+=1){var r=t[o],a=t[o+1];if((null==r?void 0:r.offsetTop)!==(null==a?void 0:a.offsetTop)){if(n===s)return o;s+=1}}return null},N=function(e){var i=e.gridRef,n=e.isCVRT1388ExperimentEligible,t=(0,a.Z)((0,c.useState)(null),2),s=t[0],o=t[1],r=(0,c.useRef)(),d=(0,c.useCallback)(function(e){o(null),n&&(clearTimeout(r.current),r.current=setTimeout(function(){o(H(e))},250))},[n,r]),l=i.current;return(0,c.useEffect)(function(){var e=null==l?void 0:l.clientWidth,i=new ResizeObserver(function(i){var n,t,s,o=null==i?void 0:i[0];o&&(null==o?void 0:null===(n=o.target)||void 0===n?void 0:n.clientWidth)&&(null==o?void 0:null===(t=o.target)||void 0===t?void 0:t.clientWidth)!==e&&(e=null==o?void 0:null===(s=o.target)||void 0===s?void 0:s.clientWidth,d({requiredRow:6,gridElement:l}))});return l?(d({requiredRow:6,gridElement:l}),i.observe(l),function(){i.unobserve(l)}):function(){}},[d,l,o]),{aiBannerPosition:s}},z=function(e){var i,n=e.assetIndex,t=void 0===n?0:n,s=e.gridRef,o=null==s?void 0:null===(i=s.current)||void 0===i?void 0:i.getElementsByClassName("grid-item");if(o)for(var r=t;r<(null==o?void 0:o.length);r+=1){var a=o[r],d=o[r+1];if((null==a?void 0:a.offsetTop)!==(null==d?void 0:d.offsetTop))return r}return t},B=function(e){var i=e.assetCount,n=e.expDCVR783Variant;return n===_.NM?1:n===_.vG?i&&Math.floor(i/2):n===_._Z?i&&i-1:void 0},K=function(e){var i=e.assetCount,n=e.expDCVR783Variant,t=e.showExperimentDCVR783,s=void 0!==t&&t,o=e.gridRef,r=B({assetCount:i,expDCVR783Variant:n}),d=(0,a.Z)((0,c.useState)(),2),l=d[0],u=d[1];return(0,c.useEffect)(function(){s&&r&&u(z({assetIndex:r,gridRef:o}))},[r,n,o,s]),(0,c.useEffect)(function(){var e=function(){var e;clearTimeout(e),u(void 0),e=setTimeout(function(){u(z({assetIndex:r,gridRef:o}))},250)};return s&&window.addEventListener("resize",e),function(){s&&window.removeEventListener("resize",e)}},[r,o,s]),{previewIndexExpDCVR783:l}},q=n(99578),U=n(9823),F=n(46628),J=n(92405),X=n(43281),Y=n(68138),$=n(25237),Q=n.n($),ee=n(62234),ei=Q()(function(){return Promise.all([n.e(10185),n.e(23747),n.e(71728),n.e(31722),n.e(95930)]).then(n.bind(n,87635)).then(function(e){return e.GridInlineSimilarPreview})},{loadableGenerated:{webpack:function(){return[87635]}},ssr:!1}),en=Q()(function(){return Promise.all([n.e(10185),n.e(23747),n.e(71728),n.e(31722),n.e(95930),n.e(6937)]).then(n.bind(n,6937)).then(function(e){return e.ExperimentFACT1031})},{loadableGenerated:{webpack:function(){return[6937]}},ssr:!1}),et=function(e){var i,n=e.AssetItem,u=void 0===n?L.k:n,v=e.AssetOverlay,I=void 0===v?O.y:v,E=e.assetOverlayProps,b=void 0===E?{}:E,S=e.assets,C=e.analyticsEventLabel,k=void 0===C?"":C,G=e.classesProps,Z=void 0===G?{}:G,y=e.expDCVR783AiImages,P=void 0===y?[]:y,W=e.expDCVR783Variant,A=void 0===W?"control":W,H=e.gridSizingOptions,z=void 0===H?l.AW:H,B=e.hasMaxWidth,$=e.hasMobileScroll,Q=void 0!==$&&$,et=e.licensingAssetId,es=void 0===et?"":et,eo=e.listId,er=void 0===eo?"":eo,ea=e.position,ed=void 0===ea?0:ea,el=e.maxRows,eu=e.numOfSkeletonRows,ec=void 0===eu?0:eu,ev=e.openGridItemInNewTab,ew=void 0!==ev&&ev,ef=e.spacing,ep=void 0===ef?Y.gP:ef,ex=e.GridExpansionRow,eh=void 0===ex?null:ex,em=e.withLoadingSkeletons,eg=void 0!==em&&em,eR=e.hideGridUntilReady,eI=e.hideSimilarButton,eE=void 0!==eI&&eI,eb=e.showInlineSimilarity,eS=void 0!==eb&&eb,eC=e.root,ek=void 0===eC?null:eC,eG=e.showExpansionRows,eZ=e.useCssGrid,ey=void 0!==eZ&&eZ,eP=e.xs,eW=e.sm,eA=e.md,eM=e.lg,eL=e.xl,eO=e.GridItemContainer,eV=void 0===eO?f.e:eO,eT=e.children,eD=(0,r.Z)(e,["AssetItem","AssetOverlay","assetOverlayProps","assets","analyticsEventLabel","classesProps","expDCVR783AiImages","expDCVR783Variant","gridSizingOptions","hasMaxWidth","hasMobileScroll","licensingAssetId","listId","position","maxRows","numOfSkeletonRows","openGridItemInNewTab","spacing","GridExpansionRow","withLoadingSkeletons","hideGridUntilReady","hideSimilarButton","showInlineSimilarity","root","showExpansionRows","useCssGrid","xs","sm","md","lg","xl","GridItemContainer","children"]),ej=(0,m.R)(),e_=ej.assets,eH=void 0===e_?void 0===S?void 0:S:e_,eN=ej.isDrawerOpen,ez=ej.experiments,eB=!(0,F.K)({breakpoint:"sm",defaultMatches:!1,skip:!!ey})&&void 0!==eG&&eG,eK=(0,Y.rr)().classes,eq=(0,ee.J)(),eU=eq.classes,eF=eq.cx,eJ=(0,V.c)(),eX=(0,X.E)({mobileScrollBreakpoint:l.x_,backgroundColor:eJ}).classes,eY=(0,F.K)({defaultMatches:!ey,breakpoint:l.x_,skip:!!ey})&&Q?1:el,e$=(0,U.D)().isBrandSstk,eQ=ez||{},e0=eQ.showExperimentCVRT1388,e1=eQ.ExperimentCVRT1388,e2=eQ.showExperimentDCVR783,e3=eQ.ExperimentDCVR783,e8=M({assets:eH,isMobile:null,hasMobileScroll:Q,maxRows:eY,hasMaxWidth:void 0!==B&&B,spacing:ep,gridSizingOptions:z,hasExpansionRows:eB,useCssGrid:ey}),e7=e8.containerEl,e4=e8.gridItems,e5=e8.activeExpansionRow,e6=e8.closeExpansionRow,e9=e8.activateExpansionRow,ie=(0,j.n)().isMobileServer,ii=(0,a.Z)((0,x.I)({triggerOnce:!0,rootMargin:"100000px 100000px ".concat(ie?"110px":"210px"," 100000px"),root:ek}),2),it=ii[0],is=ii[1],io=(0,a.Z)((0,x.I)({triggerOnce:!0,rootMargin:"100000px 100000px ".concat(ie?"110px":"210px"," 100000px"),root:ek}),2),ir=io[0],ia=io[1],id=(0,D.N)().isGoodBot,il=ie?l.ub.MOBILE:l.ub.DESKTOP,iu=(0,c.useMemo)(function(){return eB?null==e4?void 0:e4.filter(function(e){return!e.isExpansionRow}):e4},[e4,eB]),ic=(0,R.pb)(iu),iv=ic.isGridEmpty,iw=ic.isGridLoading,ip=ic.isGridReady,ix=(0,p.l)(),ih=(0,a.Z)((0,c.useState)(void 0!==eR&&eR?0:1),2),im=ih[0],ig=ih[1],iR=(0,Y.cK)({width:1,height:1}).classes;(0,c.useEffect)(function(){ip&&ig(1)},[ix,ip,eH,ed,er,k]);var iI=w({gridItems:e4,gridRef:e7}),iE=iI.expandableSimilarPreviewInGridHandler,ib=iI.similarPreviewAsset,iS=iI.similarPreviewIndex,iC=iI.similarPreviewAssetIndex,ik=iI.setShowExpandableSimilarPreviewInGrid,iG=iI.showExpandableSimilarPreviewInGrid,iZ=N({isCVRT1388ExperimentEligible:e0,gridRef:e7}).aiBannerPosition,iy=K({assetCount:null==eH?void 0:eH.length,showExperimentDCVR783:e2,expDCVR783Variant:A,gridRef:e7}).previewIndexExpDCVR783,iP=(0,c.useCallback)(function(e){var i=e.asset,n=e.rowIndex;eB&&e9({rowIndex:n,asset:i})},[e9,eB]),iW=(0,J.p)(T.TJ,!1,!1,!0),iA=(0,q.I)(ib)&&iW,iM=function(e){var i={asset:ib,gridRef:e7,index:e,handlePreviewClose:function(){return ik(!1)},similarPreviewAssetIndex:iC,similarPreviewIndex:iS,totalCount:e4.length};return iA?(0,d.jsx)(en,(0,s.Z)({},i)):(0,d.jsx)(ei,(0,s.Z)({},i))};return iv?null:(0,d.jsxs)("div",{className:eF((0,t.Z)({},eX.mobileScrollWrapper,Q)),children:[(0,d.jsx)(h,{analyticsEventLabel:k,assets:eH,isGridReady:!0,position:ed,listId:er}),(0,d.jsxs)("div",{className:eF(eK.gridContainer,eU.root,(i={},(0,t.Z)(i,eX.mobileScrollContent,Q),(0,t.Z)(i,eU.filterDrawerOpen,eN),i)),ref:e7,"data-automation":"AssetGrids_MosaicAssetGrid_div",style:{opacity:im,"--customGridSpacing":"".concat(ep,"px")},children:[iw&&(eg||!!ec)&&(0,d.jsx)(g.N,{"data-automation":"AssetGrids_MosaicAssetGrid_SkeletonGrid",maxRows:eY,numOfSkeletonRows:ec,xs:void 0===eP?12:eP,sm:void 0===eW?6:eW,md:void 0===eA?4:eA,lg:void 0===eM?3:eM,xl:void 0===eL?2:eL,spacing:ep,cardAspectRatio:eD.cardAspectRatio}),ip?e4.map(function(e,i){var n,r=e.rowHeight,a=e.asset,l=e.width,v=e.rowIndex;return e.isExpansionRow?(0,d.jsx)(eh,{row:e5,currentRowIndex:i,closeExpansionRow:e6,activateExpansionRow:e9,gridItems:iu,assetOverlayProps:b,rowWidth:l},"grid_row_expansion_".concat(i)):(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)(eV,(0,o.Z)((0,s.Z)({AssetItem:u,AssetOverlay:I,assetOverlayProps:b,asset:a,gridItems:e4,height:r,handleSimilarClick:iE,hideSimilarButton:eE,showInlineSimilarity:eS,listId:er,itemIndex:i,rowIndex:v,width:l,hasExpansionRows:eB,handleClick:iP,openGridItemInNewTab:ew,spacing:ep,gridItemClassName:eF((n={},(0,t.Z)(n,eU.sstkGridItem,e$),(0,t.Z)(n,eU.highlightedGridItem,eS&&i===iC&&iG),n),Z.gridItem),licensingAssetId:es,withLoadingSkeletons:eg,useCssGrid:ey,eagerAssetOverlayCount:id?100:0,withSsr:id,skeletonOnly:!(id||i<il||i<2*il&&it||ir||!il)},eD),{style:(0,o.Z)((0,s.Z)({},eD.style),{"--customGridSpacing":"".concat(ep,"px")})})),i===il&&(0,d.jsx)("div",{ref:is}),i===2*il&&(0,d.jsx)("div",{ref:ia}),eS&&i===iS&&iG&&iM(i),e1&&e0&&(0,d.jsx)(e1,{index:i,aiBannerPosition:iZ}),e2&&i===iy&&(0,d.jsxs)(d.Fragment,{children:[A===_._Z&&(0,d.jsx)("div",{className:ey?eF(iR.item,iR.placeholder):""}),(0,d.jsx)(e3,{carouselAssets:P})]})]},"gridItem_".concat(a.id,"_").concat(i))}):null,(0,d.jsx)("div",{className:ey?eF(iR.item,iR.placeholder):""}),eT]})]})}},46628:function(e,i,n){n.d(i,{K:function(){return r}});var t=n(87394),s=n(43822),o=n(2784),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.defaultMatches,n=e.breakpoint,r=void 0===n?"sm":n,a=e.skip,d=void 0!==a&&a,l=(0,t.Z)((0,o.useState)(void 0!==i&&i),2),u=l[0],c=l[1];return(0,o.useEffect)(function(){if(!d){var e,i=s.w.breakpoints.values,n={xs:i.sm,sm:i.md,md:i.lg,lg:i.xl,xl:1/0},t=((null==document?void 0:null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||i.md)<n[r];u!==t&&c(t)}},[u,c,r,d]),u}},43281:function(e,i,n){n.d(i,{E:function(){return s}});var t=n(47842),s=(0,n(8740).ZL)()(function(e,i){var n=e.breakpoints,s=e.tokens.zIndex,o=i.backgroundColor,r=i.mobileScrollBreakpoint,a=void 0===r?"sm":r;return{mobileScrollWrapper:(0,t.Z)({width:"100%",display:"flex",flexWrap:"wrap"},n.down(a),{display:"flex",width:"100%",overflowX:"auto",overflowY:"hidden",transform:"translateZ(0)"}),mobileScrollContent:(0,t.Z)({},n.down(a),{"&&":{width:"auto"},flexWrap:"nowrap",display:"inline-flex","&:after":{content:'""',background:"\n          linear-gradient(\n            to left,\n            ".concat(o," 0,\n            transparent 100%\n          )"),position:"sticky",width:50,minWidth:50,marginLeft:-50,top:0,bottom:0,right:0,pointerEvents:"none",zIndex:s["2"]}})}})}}]);
//# sourceMappingURL=60407-fbd5749380bddbc0.js.map